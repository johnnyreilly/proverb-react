webpackJsonp([0],{118:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(119),c=n(43),l=n(82),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,function(){return{sages:new Map,isInitialised:!1}}));return n._updateSages=function(e){n._state=Object.assign({},n._state,{sages:e,isInitialised:!0}),n.emitChange()},n}return o(t,e),u(t,[{key:"getState",value:function(){return this._state}},{key:"_onDispatch",value:function(e){var t=this._updateSages;switch(e.type){case c.g.LOADED_SAGES:var n=e.payload;t(new Map([].concat(a(n.map(function(e){return[e.id,e]})))))}}}]),t}(s.a),p=new f(l.a);t.a=p},119:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(222),i=(n.n(r),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),o=function(){function e(t,n){var i=this;a(this,e),this._emitter=new r.EventEmitter,this._changed=!1,this._dispatcher=t,this.dispatchToken=t.register(function(e){i._invokeOnDispatch(e)}),this._cleanStateFn=n,this._state=this._cleanStateFn()}return i(e,[{key:"emitChange",value:function(){this._changed=!0}},{key:"_updateStateAndEmit",value:function(e){this._state=Object.assign({},this._state,e),this.emitChange()}},{key:"hasChanged",value:function(){return this._changed}},{key:"addChangeListener",value:function(e){return this._emitter.addListener("change",e)}},{key:"_cleanState",value:function(){this._changed=!1,this._state=this._cleanStateFn()}},{key:"_invokeOnDispatch",value:function(e){this._changed=!1,this._onDispatch(e),this._changed&&this._emitter.emit("change")}},{key:"_onDispatch",value:function(e){}}]),e}();t.a=o},227:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(119),c=n(43),l=n(82),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,function(){return{sage:void 0,validations:new Map,savedId:void 0}}))}return o(t,e),u(t,[{key:"getState",value:function(){return this._state}},{key:"_onDispatch",value:function(e){switch(e.type){case c.g.LOADED_SAGE:var t=e.payload;this._updateStateAndEmit({sage:t,savedId:void 0,validations:new Map});break;case c.g.REMOVED_SAGE:this._updateStateAndEmit({sage:void 0,savedId:void 0,validations:new Map});break;case c.g.SAVE_SAGE:this._updateStateAndEmit({validations:new Map,savedId:void 0});break;case c.g.SAVED_SAGE:var n=e.payload;this._updateStateAndEmit({savedId:n,validations:new Map});break;case c.g.SAVE_SAGE_FAILED:var r=e.payload;this._updateStateAndEmit({validations:new Map([].concat(a(Object.keys(r.errors).map(function(e){return[e,r.errors[e].join()]}))))})}}}]),t}(s.a),p=new f(l.a);t.a=p},228:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(118),c=n(119),l=n(83),u=n(43),f=n(82),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,function(){return{saying:void 0,validations:new Map,savedId:void 0}}))}return o(t,e),p(t,[{key:"getState",value:function(){var e=s.a.getState();return{sayingState:this._state,sagesState:e}}},{key:"_onDispatch",value:function(e){switch(e.type){case l.i.LOADED_SAYING:var t=e.payload;this._updateStateAndEmit({saying:t,savedId:void 0,validations:new Map});break;case l.i.REMOVED_SAYING:this._updateStateAndEmit({saying:void 0,savedId:void 0,validations:new Map});break;case l.i.SAVE_SAYING:this._updateStateAndEmit({validations:new Map,savedId:void 0});break;case l.i.SAVED_SAYING:var n=e.payload;this._updateStateAndEmit({savedId:n,validations:new Map});break;case l.i.SAVE_SAYING_FAILED:var r=e.payload;this._updateStateAndEmit({validations:new Map([].concat(a(Object.keys(r.errors).map(function(e){return[e,r.errors[e].join()]}))))});break;case u.g.LOADED_SAGES:f.a.waitFor([s.a.dispatchToken]),this.emitChange()}}}]),t}(c.a),h=new m(f.a);t.a=h},229:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),function(e){var t=e.label,n=e.name,r=e.value,i=e.onFieldChange,o=e.errors,s=o.has(n),c=s?o.get(n):void 0,l=e.type||"text";return a.createElement("div",{className:"form-group "+(s?"has-error":"")},a.createElement("label",{className:"col-sm-2 control-label"},t),a.createElement("div",{className:"col-sm-10"},"select"===l?a.createElement("select",{className:"form-control",name:n,value:r,onChange:i},e.children):"textarea"===l?a.createElement("textarea",{className:"form-control",rows:5,name:n,value:r,onChange:i}):a.createElement("input",{className:"form-control",type:l,name:n,value:r,onChange:i})),c?a.createElement("div",{className:"col-md-offset-2 col-sm-10 text-danger"},c):null)});t.a=r},230:function(e,t,n){"use strict";function a(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function r(e){return e.json()}n.d(t,"a",function(){return i}),t.b=a,t.c=r,n.d(t,"d",function(){return o});var i=function(){return"https://proverb-api.azurewebsites.net/"},o={Accept:"application/json","Content-Type":"application/json"}},43:function(e,t,n){"use strict";function a(){s.a.dispatch({type:l.LOADING_SAGES}),c.a()}function r(e){s.a.dispatch({type:l.LOAD_SAGE}),c.b(e)}function i(e){return s.a.dispatch({type:l.REMOVE_SAGE}),c.c(e)}function o(e){return s.a.dispatch({type:l.SAVE_SAGE,payload:e}),c.d(e)}n.d(t,"g",function(){return l}),t.a=a,t.j=r,t.i=i,t.h=o,n.d(t,"b",function(){return u}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return h});var s=n(82),c=n(469),l={LOADING_SAGES:"SageActionTypes.LOADING_SAGES",LOADED_SAGES:"SageActionTypes.LOADED_SAGES",LOAD_SAGE:"SageActionTypes.LOAD_SAGE",LOADED_SAGE:"SageActionTypes.LOADED_SAGE",REMOVE_SAGE:"SageActionTypes.REMOVE_SAGE",REMOVED_SAGE:"SageActionTypes.REMOVED_SAGE",SAVE_SAGE:"SageActionTypes.SAVE_SAGE",SAVED_SAGE:"SageActionTypes.SAVED_SAGE",SAVE_SAGE_FAILED:"SageActionTypes.SAVE_SAGE_FAILED"},u=function(e){return s.a.dispatch({type:l.LOADED_SAGES,payload:e})},f=function(e){return s.a.dispatch({type:l.LOADED_SAGE,payload:e})},p=function(e){return s.a.dispatch({type:l.REMOVED_SAGE,payload:e})},m=function(e){return s.a.dispatch({type:l.SAVED_SAGE,payload:e})},h=function(e){return s.a.dispatch({type:l.SAVE_SAGE_FAILED,payload:e})}},453:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(457),o=n(39),s=n(456),c=n(460),l=n(458),u=n(459),f=n(464),p=n(462),m=n(463),h=n(455),d=function(e){return r.a.createElement("div",null,r.a.createElement(i.a,null),r.a.createElement(o.Switch,null,r.a.createElement(o.Route,{exact:!0,path:"/",component:s.a}),r.a.createElement(o.Route,{path:"/sages",component:c.a}),r.a.createElement(o.Route,{path:"/sage/detail/:id",component:l.a}),r.a.createElement(o.Route,{path:"/sage/edit/:id",component:u.a}),r.a.createElement(o.Route,{path:"/sayings/:selectedSageId?",component:f.a}),r.a.createElement(o.Route,{path:"/saying/detail/:id",component:p.a}),r.a.createElement(o.Route,{path:"/saying/edit/:id",component:m.a}),r.a.createElement(o.Route,{path:"/about",component:h.a})))};t.a=d},455:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),function(){return a.createElement("div",{className:"container"},a.createElement("h2",null,"About"),a.createElement("p",null,'Arul "Socrates" Aruldas is a wise old sage often given to spouting sayings that convey wisdom and knowledge far beyond his years.  It was felt that these gems could not be allowed to slip through the cracks.  Here they are preserved for posterity.  Noted down by the bystanders and witnesses to his greatness.'),a.createElement("p",null,"Occasionally other colleagues comments have been jotted down as well. They exist to be a contrast the wisdom in Arul's sayings - we are not worthy!"),a.createElement("h3",null,"About the app"),a.createElement("p",null,"Built using a combination of React, TypeScript and Flux. Hosted on Azure."),a.createElement("h3",null,"Version"),a.createElement("p",null,"This is version: ","1.0.0.1494264264209"," "))});t.a=r},456:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n.n(s),l=n(39),u=n(118),f=n(43),p=n(68),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onChange=function(){n.setState(function(e,t){return Object.assign(e,u.a.getState())})},n.state=u.a.getState(),n}return o(t,e),m(t,[{key:"componentWillMount",value:function(){this.eventSubscription=u.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.isInitialised||f.a()}},{key:"render",value:function(){var e=this.state,t=e.isInitialised,n=e.sages;return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("div",{className:"jumbotron"},c.a.createElement("div",{className:"center-block text-center",style:{maxWidth:"250px"}},c.a.createElement("h2",null,"The Wisdom of Socrates Aruldas"),c.a.createElement("img",{src:"images/socrates-statue.jpg",className:"img-rounded"}),c.a.createElement("h3",null,"(and a few others...)")))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("h2",null,"Sages"),c.a.createElement("table",{className:"table table-condensed table-striped table-hover"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Username"))),c.a.createElement("tbody",null,t?[].concat(a(n.values())).map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(l.Link,{to:"/sayings/"+e.id},e.name)),c.a.createElement("td",null,e.userName))}):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:2},c.a.createElement(p.a,null))))))))}}]),t}(c.a.Component);t.a=h},457:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(39)),i=n(225),o=n(226),s=(n.n(o),function(e){return a.createElement(i.Navbar,{bsStyle:"default"},a.createElement(i.Navbar.Header,null,a.createElement(i.Navbar.Brand,null,a.createElement(r.Link,{to:"/"},a.createElement("span",{className:"brand-title"},"Proverb"))),a.createElement(i.Navbar.Toggle,null)),a.createElement(i.Navbar.Collapse,null,a.createElement(i.Nav,null,a.createElement(o.LinkContainer,{to:"/sages"},a.createElement(i.NavItem,{eventKey:1},a.createElement("i",{className:"fa fa-users"})," Sages")),a.createElement(o.LinkContainer,{to:"/sayings"},a.createElement(i.NavItem,{eventKey:2},a.createElement("i",{className:"fa fa-comment"})," Sayings"))),a.createElement(i.Nav,{pullRight:!0},a.createElement(o.LinkContainer,{to:"/about"},a.createElement(i.NavItem,{eventKey:1},"About")))))});t.a=s},458:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(39),l=n(1),u=n.n(l),f=n(227),p=n(43),m=n(68),h=n(468),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onChange=function(){n.setState(function(e,t){return Object.assign(e,n.getSageFromStore(t.match.params.id,f.a.getState()))})},n.state=n.getSageFromStore(e.match.params.id,f.a.getState()),n}return i(t,e),d(t,[{key:"getSageFromStore",value:function(e,t){var n=parseInt(e);return t.sage&&t.sage.id===n?{sage:t.sage}:{sage:void 0}}},{key:"componentWillMount",value:function(){this.eventSubscription=f.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.sage||this.loadSage(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.loadSage(e.match.params.id)}},{key:"loadSage",value:function(e){p.j(parseInt(e))}},{key:"render",value:function(){var e=this.state.sage;return s.a.createElement("div",{className:"container"},e?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(c.Link,{to:"/sage/edit/"+this.props.match.params.id},s.a.createElement("i",{className:"fa fa-pencil fa-lg"})," Edit")),s.a.createElement("h2",null,"Sage Details: ",e?e.name:null),s.a.createElement("div",{className:"form-horizontal"},s.a.createElement(h.a,{label:"Name",value:e.name}),s.a.createElement(h.a,{label:"Username",value:e.userName}),s.a.createElement(h.a,{label:"Email",value:e.email}),s.a.createElement(h.a,{label:"Date of Birth",value:u()(e.dateOfBirth).format("ll")}),s.a.createElement(h.a,{label:"Sagacity",value:e.sagacity}))):s.a.createElement(m.a,null))}}]),t}(s.a.Component);t.a=g},459:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n.n(s),l=n(227),u=n(43),f=n(68),p=n(229),m=n(471),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onChange=function(){var e=l.a.getState();e.savedId?n.props.history.push("/sage/detail/"+n.props.match.params.id):n.setState(function(t,a){return Object.assign(t,n.getSageAndValidationsFromStore(a.match.params.id,e),{isSavingOrRemoving:void 0})})},n._onFieldChange=function(e){var t=e.target,r=t.name,i=t.value;n.setState(function(e,t){return Object.assign(e,{hasChanges:!0,sage:Object.assign(e.sage,a({},r,i))})})},n._onClickSave=function(e){e.preventDefault(),n.canSave&&(u.h(n.state.sage),n.setState(function(e,t){return Object.assign(e,{isSavingOrRemoving:"Saving..."})}))},n._onClickRemove=function(e){e.preventDefault(),n.canRemove&&(u.i(n.state.sage.id),n.setState(function(e,t){return Object.assign(e,{isSavingOrRemoving:"Removing..."})}))},n.state=Object.assign(n.getSageAndValidationsFromStore(e.match.params.id,l.a.getState()),{hasChanges:!1,isSavingOrRemoving:void 0}),n}return o(t,e),h(t,[{key:"getSageAndValidationsFromStore",value:function(e,t){var n=parseInt(e);return t.sage&&t.sage.id===n?{sage:t.sage,validations:t.validations}:{sage:void 0,validations:new Map}}},{key:"componentWillMount",value:function(){this.eventSubscription=l.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.sage||this.loadSage(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.loadSage(e.match.params.id)}},{key:"loadSage",value:function(e){u.j(parseInt(e))}},{key:"render",value:function(){var e=this.state,t=e.sage,a=e.hasChanges,r=e.validations,i=e.isSavingOrRemoving;return c.a.createElement("div",{className:"container"},t?c.a.createElement("form",{name:"form",role:"form"},c.a.createElement("div",null,i?c.a.createElement(f.a,{caption:i}):null,c.a.createElement("button",{className:"btn btn-info",disabled:!this.canSave,onClick:this._onClickSave},c.a.createElement("i",{className:"fa fa-save fa-lg"})," Save"),c.a.createElement("button",{className:"btn btn-danger",disabled:!this.canRemove,onClick:this._onClickRemove},c.a.createElement("i",{className:"fa fa-trash fa-lg"})," Remove"),a?c.a.createElement("i",{className:"fa fa-asterisk fa-lg text-warning"}):null),c.a.createElement("h2",null,"Sage Edit: ",t?t.name:null),c.a.createElement("div",{className:"form-horizontal"},c.a.createElement(p.a,{label:"Name",name:"name",value:n.i(m.a)(t.name),onFieldChange:this._onFieldChange,errors:r}),c.a.createElement(p.a,{label:"Username",name:"userName",value:n.i(m.a)(t.userName),onFieldChange:this._onFieldChange,errors:r}),c.a.createElement(p.a,{label:"Email",name:"email",value:n.i(m.a)(t.email),onFieldChange:this._onFieldChange,errors:r}),c.a.createElement(p.a,{label:"Date of Birth",name:"dateOfBirth",type:"date",value:n.i(m.b)(t.dateOfBirth),onFieldChange:this._onFieldChange,errors:r}),c.a.createElement(p.a,{label:"Sagacity",name:"sagacity",type:"number",value:n.i(m.a)(t.sagacity),onFieldChange:this._onFieldChange,errors:r}))):c.a.createElement(f.a,null))}},{key:"canSave",get:function(){return this.state.hasChanges&&!this.isSavingOrRemoving}},{key:"canRemove",get:function(){return!this.isSavingOrRemoving}},{key:"isSavingOrRemoving",get:function(){return!!this.state.isSavingOrRemoving}}]),t}(c.a.Component);t.a=d},460:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n.n(s),l=n(118),u=n(43),f=n(461),p=n(68),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onChange=function(){n.setState(function(e,t){return Object.assign(e,l.a.getState())})},n.state=l.a.getState(),n}return o(t,e),m(t,[{key:"componentWillMount",value:function(){this.eventSubscription=l.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.isInitialised||u.a()}},{key:"render",value:function(){var e=this.state,t=e.isInitialised,n=e.sages;return c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"Sages"),t?[].concat(a(n.values())).map(function(e,t){return c.a.createElement(f.a,{key:t,sage:e})}):c.a.createElement(p.a,null))}}]),t}(c.a.Component);t.a=h},461:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(39),o=function(e){var t=e.sage;return r.a.createElement("div",{className:"col-md-2 col-xs-4"},r.a.createElement(i.Link,{to:"/sage/detail/"+t.id,className:"thumbnail"},r.a.createElement("div",{className:"text-center text-info min-height-120"},r.a.createElement("i",{className:"fa fa-user fa-5x"}),r.a.createElement("h5",null,t.name))))};t.a=o},462:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),c=n(39),l=n(228),u=n(83),f=n(68),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._onChange=function(){var e=l.a.getState();n.setState(function(t,a){return Object.assign(t,n.getSayingFromStore(a.match.params.id,e.sayingState))})};var i=l.a.getState();return n.state=n.getSayingFromStore(e.match.params.id,i.sayingState),n}return i(t,e),p(t,[{key:"getSayingFromStore",value:function(e,t){var n=parseInt(e);return t.saying&&t.saying.id===n?{saying:t.saying}:{saying:void 0}}},{key:"componentWillMount",value:function(){this.eventSubscription=l.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.saying||this.loadSaying(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.loadSaying(e.match.params.id)}},{key:"loadSaying",value:function(e){u.c(parseInt(e))}},{key:"render",value:function(){var e=this.state.saying;return s.a.createElement("div",{className:"container"},e?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(c.Link,{to:"/saying/edit/"+this.props.match.params.id},s.a.createElement("i",{className:"fa fa-pencil fa-lg"})," Edit")),s.a.createElement("h2",null,"Saying"),s.a.createElement("div",{className:"form-horizontal"},s.a.createElement("blockquote",null,s.a.createElement("p",null,e.text),s.a.createElement("footer",null,e.sageName)))):s.a.createElement(f.a,null))}}]),t}(s.a.Component);t.a=m},463:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(0),l=n.n(c),u=n(228),f=n(83),p=n(43),m=n(68),h=n(229),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._onChange=function(){var e=u.a.getState();e.sayingState.savedId?n.props.history.push("/saying/detail/"+n.props.match.params.id):n.setState(function(t,a){return Object.assign(t,n.getSayingAndValidationsFromStore(a.match.params.id,e.sayingState),{isSavingOrRemoving:void 0,sagesState:e.sagesState})})},n._onFieldChange=function(e){var t=e.target,a=t.name,i=t.value;n.setState(function(e,t){return Object.assign(e,{hasChanges:!0,saying:Object.assign(e.saying,r({},a,i))})})},n._onClickSave=function(e){e.preventDefault(),n.canSave&&(f.a(n.state.saying),n.setState(function(e,t){return Object.assign(e,{isSavingOrRemoving:"Saving..."})}))},n._onClickRemove=function(e){e.preventDefault(),n.canRemove&&(f.b(n.state.saying.id),n.setState(function(e,t){return Object.assign(e,{isSavingOrRemoving:"Removing..."})}))};var a=u.a.getState();return n.state=Object.assign(n.getSayingAndValidationsFromStore(e.match.params.id,a.sayingState),{hasChanges:!1,isSavingOrRemoving:void 0,sagesState:a.sagesState}),n}return s(t,e),d(t,[{key:"getSayingAndValidationsFromStore",value:function(e,t){var n=parseInt(e);return t.saying&&t.saying.id===n?{saying:t.saying,validations:t.validations}:{saying:void 0,validations:new Map}}},{key:"componentWillMount",value:function(){this.eventSubscription=u.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.saying||this.loadSaying(this.props.match.params.id),this.state.sagesState.isInitialised||p.a()}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.loadSaying(e.match.params.id)}},{key:"loadSaying",value:function(e){f.c(parseInt(e))}},{key:"render",value:function(){var e=this.state,t=e.saying,n=e.hasChanges,r=e.validations,i=e.isSavingOrRemoving,o=e.sagesState;return l.a.createElement("div",{className:"container"},t?l.a.createElement("form",{name:"form",role:"form"},l.a.createElement("div",null,i?l.a.createElement(m.a,{caption:i}):null,l.a.createElement("button",{className:"btn btn-info",disabled:!this.canSave,onClick:this._onClickSave},l.a.createElement("i",{className:"fa fa-save fa-lg"})," Save"),l.a.createElement("button",{className:"btn btn-danger",disabled:!this.canRemove,onClick:this._onClickRemove},l.a.createElement("i",{className:"fa fa-trash fa-lg"})," Remove"),n?l.a.createElement("i",{className:"fa fa-asterisk fa-lg text-warning"}):null),l.a.createElement("h2",null,"Saying Edit"),l.a.createElement("div",{className:"form-horizontal"},l.a.createElement(h.a,{type:"select",label:"Sage",name:"sageId",value:t.sageId,onFieldChange:this._onFieldChange,errors:r},[].concat(a(o.sages.values())).map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.name)})),l.a.createElement(h.a,{type:"textarea",label:"Saying",name:"text",value:t.text,onFieldChange:this._onFieldChange,errors:r}))):l.a.createElement(m.a,null))}},{key:"canSave",get:function(){return this.state.hasChanges&&!this.isSavingOrRemoving}},{key:"canRemove",get:function(){return!this.isSavingOrRemoving}},{key:"isSavingOrRemoving",get:function(){return!!this.state.isSavingOrRemoving}}]),t}(l.a.Component);t.a=g},464:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n.n(s),l=n(39),u=n(466),f=n(83),p=n(43),m=n(465),h=n(68),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onChange=function(){n.setState(function(e,t){return Object.assign(e,u.a.getState())})},n._onSelectChange=function(e){var t=e.target.value;n.props.history.push("/sayings/"+t)},n.state=u.a.getState(),n}return o(t,e),d(t,[{key:"componentWillMount",value:function(){this.eventSubscription=u.a.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){this.eventSubscription.remove()}},{key:"componentDidMount",value:function(){this.state.sayingsState.isInitialised||f.j(),this.state.sagesState.isInitialised||p.a()}},{key:"render",value:function(){var e=this.selectedSageId,t=this.state,n=t.sayingsState,r=t.sagesState,i=[].concat(a(n.sayings.values())),o=e?i.filter(function(t){return t.sageId===e}):i;return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"pull-left"},c.a.createElement(l.Link,{to:"/saying/edit/add"},c.a.createElement("i",{className:"fa fa-plus fa-lg"})," Add")),c.a.createElement("div",{className:"pull-right"},c.a.createElement("select",{value:e,onChange:this._onSelectChange},c.a.createElement("option",{value:void 0}),[].concat(a(r.sages.values())).map(function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)})))),c.a.createElement("h2",null,"Sayings"),n.isInitialised?o.map(function(e,t){return c.a.createElement(m.a,{key:t,saying:e})}):c.a.createElement(h.a,null))}},{key:"selectedSageId",get:function(){var e=this.props.match.params.selectedSageId;return e?parseInt(e):void 0}}]),t}(c.a.Component);t.a=g},465:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(39),o=function(e){var t=e.saying;return r.a.createElement("blockquote",null,r.a.createElement("p",null,r.a.createElement(i.Link,{to:"/saying/detail/"+t.id},t.text)),r.a.createElement("footer",null,t.sageName))};t.a=o},466:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(118),c=n(119),l=n(83),u=n(43),f=n(82),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,function(){return{sayings:new Map,isInitialised:!1}}));return n._updateSayings=function(e){n._state=Object.assign({},n._state,{sayings:e,isInitialised:!0}),n.emitChange()},n}return o(t,e),p(t,[{key:"getState",value:function(){var e=s.a.getState();return{sayingsState:this._state,sagesState:e}}},{key:"_onDispatch",value:function(e){var t=this._updateSayings;switch(e.type){case l.i.LOADED_SAYINGS:var n=e.payload;t(new Map([].concat(a(n.map(function(e){return[e.id,e]})))));break;case u.g.LOADED_SAGES:f.a.waitFor([s.a.dispatchToken]),this.emitChange()}}}]),t}(c.a),h=new m(f.a);t.a=h},467:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(147),r=(n.n(a),n(0)),i=(n.n(r),n(29)),o=n.n(i),s=n(39),c=n(453);o.a.render(r.createElement(s.HashRouter,null,r.createElement(c.a,null)),document.getElementById("content"))},468:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),function(e){var t=e.label,n=e.value;return a.createElement("div",{className:"form-group"},a.createElement("div",{className:"col-sm-2"},a.createElement("strong",null,t)),a.createElement("div",{className:"col-sm-10"},n))});t.a=r},469:function(e,t,n){"use strict";function a(){return fetch(l).then(s.b).then(function(e){return n.i(s.c)(e)}).then(c.b)}function r(e){return fetch(l+"/"+e).then(s.b).then(function(e){return n.i(s.c)(e)}).then(c.c)}function i(e){return fetch(l+"/"+e,{method:"DELETE"}).then(s.b).then(function(t){return n.i(c.d)(e)})}function o(e){return fetch(l,{headers:s.d,method:"POST",body:JSON.stringify(e)}).then(s.b).then(function(e){return n.i(s.c)(e)}).then(function(e){e.isSaved?n.i(c.e)(e.savedId):n.i(c.f)(e.validations)}).catch(c.f)}t.a=a,t.b=r,t.c=i,t.d=o;var s=n(230),c=n(43),l=n.i(s.a)()+"sage"},470:function(e,t,n){"use strict";function a(){return fetch(l).then(s.b).then(function(e){return n.i(s.c)(e)}).then(c.d)}function r(e){return fetch(l+"/"+e).then(s.b).then(function(e){return n.i(s.c)(e)}).then(c.e)}function i(e){return fetch(l+"/"+e,{method:"DELETE"}).then(s.b).then(function(t){return n.i(c.f)(e)})}function o(e){return fetch(l,{headers:s.d,method:"POST",body:JSON.stringify(e)}).then(s.b).then(function(e){return n.i(s.c)(e)}).then(function(e){e.isSaved?n.i(c.g)(e.savedId):n.i(c.h)(e.validations)}).catch(c.h)}t.a=a,t.b=r,t.c=i,t.d=o;var s=n(230),c=n(83),l=n.i(s.a)()+"saying"},471:function(e,t,n){"use strict";function a(e){return e?""+e:""}function r(e){return e?""+e.substr(0,10):""}t.a=a,t.b=r},68:function(e,t,n){"use strict";var a=n(0),r=(n.n(a),function(e){return a.createElement("h4",{className:"text-primary"},e.caption||"Loading...",a.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-fw"}))});t.a=r},82:function(e,t,n){"use strict";var a=n(223),r=(n.n(a),new a.Dispatcher);t.a=r},83:function(e,t,n){"use strict";function a(){s.a.dispatch({type:l.LOADING_SAYINGS}),c.a()}function r(e){s.a.dispatch({type:l.LOAD_SAYING}),c.b(e)}function i(e){return s.a.dispatch({type:l.REMOVE_SAYING}),c.c(e)}function o(e){return s.a.dispatch({type:l.SAVE_SAYING,payload:e}),c.d(e)}n.d(t,"i",function(){return l}),t.j=a,t.c=r,t.b=i,t.a=o,n.d(t,"d",function(){return u}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return h});var s=n(82),c=n(470),l={LOADING_SAYINGS:"SayingActionTypes.LOADING_SAYINGS",LOADED_SAYINGS:"SayingActionTypes.LOADED_SAYINGS",LOAD_SAYING:"SayingActionTypes.LOAD_SAYING",LOADED_SAYING:"SayingActionTypes.LOADED_SAYING",REMOVE_SAYING:"SayingActionTypes.REMOVE_SAYING",REMOVED_SAYING:"SayingActionTypes.REMOVED_SAYING",SAVE_SAYING:"SayingActionTypes.SAVE_SAYING",SAVED_SAYING:"SayingActionTypes.SAVED_SAYING",SAVE_SAYING_FAILED:"SayingActionTypes.SAVE_SAYING_FAILED"},u=function(e){return s.a.dispatch({type:l.LOADED_SAYINGS,payload:e})},f=function(e){return s.a.dispatch({type:l.LOADED_SAYING,payload:e})},p=function(e){return s.a.dispatch({type:l.REMOVED_SAYING,payload:e})},m=function(e){return s.a.dispatch({type:l.SAVED_SAYING,payload:e})},h=function(e){return s.a.dispatch({type:l.SAVE_SAYING_FAILED,payload:e})}}},[467]);